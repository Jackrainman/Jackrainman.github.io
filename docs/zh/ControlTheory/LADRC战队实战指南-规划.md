# LADRC战队实战指南

> **适用对象**：已有PID基础的大二战队成员
>
> **阅读时间**：10分钟
>
> **目标**：看完就能上手调参

---

## 一、LADRC是什么（1分钟）

**一个公式**：
```
u = u₀ - ẑ / b₀
   └──PD┘  └──扰动补偿┘
```

**人话版**：
- 先用PD算出"如果没有扰动应该怎么控制"
- 再用观测器估计出"实际有多少扰动"
- 把扰动从控制量里减掉

**为什么用LADRC**：
- 不需要精确模型
- 抗扰动能力强
- 参数只需要调3个（比PID简单）

---

## 二、调参三步法（5分钟）

### 参数一览

| 参数 | 符号 | 作用 | 怎么调 |
|------|------|------|--------|
| 扰动补偿系数 | **b₀** | 匹配对象增益 | 阶跃响应估算 |
| 控制器带宽 | **ωc** | 响应速度 | 先小后大 |
| 观测器带宽 | **ω₀** | 扰动估计速度 | ω₀ = 3~5×ωc |

---

### Step 1：确定b₀

**操作**：给电机一个阶跃电压，测初始加速度

**公式**：
```
b₀ = 电压 / 初始加速度
```

**例子**：
- 电压给12V，初始加速度是 120 rad/s²
- b₀ = 12 / 120 = 0.1

**调试技巧**：
- b₀偏大 → 系统可能抖
- b₀偏大 → 扰动补偿不够，响应慢

---

### Step 2：设置ωc

**初始值建议**：
- 电机速度环：ωc = 20~50
- 电机位置环：ωc = 10~30
- 云台：ωc = 10~20

**原则**：
- 先设小值，观察响应
- 满足性能前提下，ωc 越小越好

---

### Step 3：设置ω₀

**公式**：
```
ω₀ = 4 × ωc
```

**范围**：3~5倍均可

**调试技巧**：
- ω₀偏大 → 观测器受噪声影响
- ω₀偏大 → 扰动估计更快更准

---

## 三、问题排查（3分钟）

| 现象 | 原因 | 解决 |
|------|------|------|
| 振荡/发抖 | ωc或ω₀过大 | 减小两者，或增大b₀ |
| 跟踪慢 | ωc过小 | 适当增大ωc |
| 噪声大 | ω₀过大 | 减小ω₀ |
| 静差大 | b₀估计不准 | 重新估算b₀ |
| 超调大 | ωc过大 | 减小ωc |

---

## 四、参数复位流程

如果调乱了，按这个顺序重来：

```
1. b₀ → 复位到初始估算值
2. ωc → 设为最小值（如10）
3. ω₀ → 设为4×ωc
4. 逐步增大ωc
5. 微调b₀
```

---

## 五、代码看这里

**完整代码和初始化方法**：
> 见 `03-LADRC代码实战.md`

**复制粘贴就能用**，不需要自己写。

---

## 六、常见问题FAQ

**Q：LADRC和PID能一起用吗？**
A：可以！常见做法是LADRC内环去扰，PID外环跟踪。

**Q：观测器估计不准怎么办？**
A：检查三点：① ω₀是否太小 ② b₀是否偏差太大 ③ 采样周期是否过大

**Q：什么时候用LADRC？**
A：
- 参数会变化的系统（如负载变化）
- 扰动大的系统
- 模型不好建立的系统

---

*战队内部资料 - 快速上手*
